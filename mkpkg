# Make the GEMINI external package

$call update
$exit

update:
	$call lib
	$call gmos
	$call gnirs
	$call gemtools
	;

lib:
	$call update@lib
	;

gmos:
	$call update@gmos
	;

gnirs:
	$call update@gnirs
	;

gemtools:
	$call update@gemtools
	;

# Multiple architecture support

generic:				# generic installation (no bin)
	$ifnfile (bin.generic)
	    !mkdir bin.generic
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh generic -d $(DIRS)
	;

linux64:				# install 64-bit Linux binaries
	$ifnfile (bin.linux64)
	    !mkdir bin.linux64
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh linux64 -d $(DIRS)
	;

linux:					# install 32-bit Linux binaries
	$ifnfile (bin.linux)
	    !mkdir bin.linux
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh linux -d $(DIRS)
	;

macosx:					# install 64-bit OSX (Apple) binaries
	$ifnfile (bin.macosx)
	    !mkdir bin.macosx
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh macosx -d $(DIRS)
	;

macintel:				# install 64-bit OSX Intel binaries
	$ifnfile (bin.macintel)
	    !mkdir bin.macintel
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh macintel -d $(DIRS)
	;

macos64:				# install 64-bit OSX (alt) binaries
	$ifnfile (bin.macos64)
	    !mkdir bin.macos64
	$endif
	$verbose off
	$set DIRS = "lib gmos gnirs gemtools"
	!$(hlib)/mkfloat.csh macos64 -d $(DIRS)
	;

